Index: install3/requirements.c
===================================================================
RCS file: /cvsroot/poldek/poldek/install3/requirements.c,v
retrieving revision 1.6
diff -u -r1.6 requirements.c
--- install3/requirements.c	24 Feb 2008 22:10:41 -0000	1.6
+++ install3/requirements.c	2 Mar 2008 23:03:26 -0000
@@ -430,7 +430,6 @@
         
         i3pkg->flags &= ~I3PKG_CROSSROAD;
         if (candidates) {
-            n_assert(n_array_size(candidates) > 1);
             if (number_of_non_blacks(ictx, candidates) > 1) {
                 /* mark current package as crossroad and propagate mark down */
                 i3pkg->flags |= I3PKG_CROSSROAD; 
Index: install3/ictx.c
===================================================================
RCS file: /cvsroot/poldek/poldek/install3/ictx.c,v
retrieving revision 1.3
diff -u -r1.3 ictx.c
--- install3/ictx.c	30 Jan 2008 22:13:42 -0000	1.3
+++ install3/ictx.c	2 Mar 2008 23:27:03 -0000
@@ -208,6 +208,7 @@
     ictx->ts = NULL;
     ictx->ps = NULL;
     pkgmark_set_free(ictx->processed);
+    n_hash_free(ictx->errors);
     memset(ictx, 0, sizeof(*ictx));
 }
 
@@ -223,7 +224,8 @@
     
     pkgmark_set_free(ictx->processed);
     ictx->processed = pkgmark_set_new(0, PKGMARK_SET_IDPTR);
-    
+
+    n_hash_clean(ictx->errors);
     ictx->abort = 0;
 }
 
